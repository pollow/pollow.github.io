<!DOCTYPE html>
<html lang="cn">
<head>
        <meta charset="utf-8" />
        <title>pollow's blog - misc</title>
        <link rel="stylesheet" href="http://pollow.github.io/theme/css/main.css" />
        <link href="http://pollow.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="pollow's blog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="http://github.com/pollow/">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="http://pollow.github.io/">pollow's blog </a></h1>
                <nav><ul>
                    <li class="active"><a href="http://pollow.github.io/category/misc.html">misc</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="http://pollow.github.io/java-web-de-ce-shi.html">Java Web 的测试</a></h1>
<footer class="post-info">
        <abbr class="published" title="2016-01-23T23:22:17+08:00">
                Published: 六 23 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://pollow.github.io/author/xing-chang.html">XING Chang</a>
        </address>
<p>In <a href="http://pollow.github.io/category/misc.html">misc</a>.</p>

</footer><!-- /.post-info --><p>前几天研究了 Java Web 中如何利用 log4j 记录 log，方便追踪少见的错误和异常，更加优雅的拜托 stdout 来 debug。这几天主要要钻研一下如何在一个 Java Web 的大型系统中优雅的做测试，包括单元测试和集成测试。</p>
<p>由于工程庞大，错综复杂，而且目前一直处于在线调试的状态，缺少各种基础设施，所以加入测试难度颇高，今天简单的搜索了一下，检索到了一些关键技术和工具，暂作记录，空下来后慢慢研究。</p>
<ol>
<li>JUnit 4 -- StrutsSpringJUnit4TestCase</li>
<li><a href="http://watij.com/">Watji</a></li>
<li>h2 in-memory database</li>
<li>Mock Class</li>
</ol>
<p>感觉想要成功的为整套系统加入测试，对于很多 Java 的概念和框架还需要深入学习，目前看来，遇到 IoR 和 Bean 相关的概念时还是有些不明所以。</p>
<p>想要进行单元测试，有几个问题需要解决</p>
<ol>
<li>如何模拟 Request 请求</li>
<li>如何判断请求处理是否正常</li>
<li>如何劫持 Hibernate 的数据库操作</li>
</ol>
<p>关于第一三两个问题，StackOverflow 上很多答案都提到了 Mock Class 的概念，似乎是利用了 IoR 区分了开发和部署环境下 Hibernate 的行为。为了更好的理解这些用法，还需要对 Spring Core 进行深入的研究。</p>
<p>说白了 SSH 经典框架我现在就研究了 Struts2，还总被坑奇怪的地方坑。</p>
<p>Watji 是一个通过模拟浏览器行为，加入断言库来进行测试的框架，优点在于可以测试页面在浏览器中的行为，可能还可以处理 JavaScript 页面的展示问题。问题在于，现在的系统大量使用了 iframe 的嵌套，但是我在 API 中没有看到对于 iframe 如何进行分析。</p>
<p>其次还需要把整个工程的几个G代码全都拿来梳理/整理一遍，重新设计工程结构，方便本地开发、调试、测试和发布，这么看来，还应该学习一下 Gradle 的用法。</p>
<p>简单的记录了一下这几天的学习，都是一些技术性上的问题，但是在处理 legacy code 的问题上，还需要学习一些哲学上和概念上的思路。买了本《重构》已经在路上了，任重而道远。</p>
<p>总之，Java 最擅长创造名词……</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="http://pollow.github.io/log4j-xue-xi-yu-pei-zhi.html" rel="bookmark"
                           title="Permalink to Log4j 学习与配置">Log4j 学习与配置</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-22T22:30:32+08:00">
                Published: 五 22 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://pollow.github.io/author/xing-chang.html">XING Chang</a>
        </address>
<p>In <a href="http://pollow.github.io/category/misc.html">misc</a>.</p>

</footer><!-- /.post-info -->                <p>开始的时候就被这个项目居然使用 System.out.println 调试大法震惊了一下，由于我也懒得在架构上动手脚，所以也就随大流将就一下。但是最近遇到几个问题，一是我写的一个方法逻辑太过复杂，有太多的数据库操作（其实应该避免，但是因为API不够丰富，逻辑又十分复杂暂时只能如此了）；二是有一些客户报告了一下我在本地无法复现，有很偶然才会发生的 bug，不得已，我决定使用一下 Logger，在相关的函数中记录一下关键值。</p>
<h2>基础使用</h2>
<p>记录需要使用 Logger, Logger 应该是单例模型，在应用初始化的时候创建并且保留以后一直使用；不过 LogManager 会处理这些事情，只要提供合适的 Logger 名称，它会在内部管理所有的 Logger。Logger的名字推荐和使用的类名一致，这也是<code>LogManager.getLogger()</code>的默认行为。</p>
<p>常用的又 INFO, DEBUG, WARN, ERROR 四个等级，对应四个函数；可以使用 printf 函数默认调用 String ...</p>
                <a class="readmore" href="http://pollow.github.io/log4j-xue-xi-yu-pei-zhi.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://pollow.github.io/memoenv-android-xue-xi-ri-ji-day-1.html" rel="bookmark"
                           title="Permalink to [Memo][Env] Android 学习日记 Day 1">[Memo][Env] Android 学习日记 Day 1</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-14T00:26:11+08:00">
                Published: 四 14 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://pollow.github.io/author/xing-chang.html">XING Chang</a>
        </address>
<p>In <a href="http://pollow.github.io/category/misc.html">misc</a>.</p>
<p>tags: <a href="http://pollow.github.io/tag/memo.html">memo</a> <a href="http://pollow.github.io/tag/env.html">env</a> <a href="http://pollow.github.io/tag/android.html">android</a> </p>
</footer><!-- /.post-info -->                <h2>前言</h2>
<p>人生不如意，事十常八九。最嫌弃 Java 的我正在维护一套 legacy 的 Java Web 系统，还在为了帮人做论文而学习 Android 开发。</p>
<p>这种大型工具链最难学，知识细节十分琐碎，而且主要集中在工具的使用和针对性框架知识的积累，主要靠背。而且环境搭建更是难中之难……</p>
<p>把学习中的一些知识点记录积累一下，方便复习吧。</p>
<h2>学习资料</h2>
<p><a href="http://developer.android.com/develop/index.html">Develop Apps</a>
<a href="http://www.amazon.cn/%E7%AC%AC%E4%B8%80%E8%A1%8C%E4%BB%A3%E7%A0%81-Android-%E9%83%AD%E9%9C%96/dp/B00LVHTI9U/ref=pd_bxgy_14_img_2?ie=UTF8&amp;refRID=0G5C7P8T3HFKK0APVNV5">《第一行代码-Android》</a></p>
<h2>环境配置</h2>
<p>今天赶巧家里网不稳定，下载东西断断续续，花了一上午才把环境搭建起来。</p>
<ol>
<li>下载&amp;安装 Android Studio，推荐使用最新稳定版。</li>
<li>OS X 需要单独下载 SDK Tools，放到指定目录。</li>
<li>随便建个工程，进入 AS 后打开 SDK Manager，下载如下项目：<ol>
<li>Android SDK Tools ...</li></ol></li></ol>
                <a class="readmore" href="http://pollow.github.io/memoenv-android-xue-xi-ri-ji-day-1.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://pollow.github.io/brief-note-git-rebase-xiao-jie.html" rel="bookmark"
                           title="Permalink to [Brief Note] Git rebase 小结">[Brief Note] Git rebase 小结</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-11T23:26:51+08:00">
                Published: 一 11 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://pollow.github.io/author/xing-chang.html">XING Chang</a>
        </address>
<p>In <a href="http://pollow.github.io/category/misc.html">misc</a>.</p>
<p>tags: <a href="http://pollow.github.io/tag/brief.html">brief</a> <a href="http://pollow.github.io/tag/git.html">git</a> </p>
</footer><!-- /.post-info -->                <h2>Githug</h2>
<p>前几天再 Timeline 上看到有人推荐了一款叫做 Githug 的小游戏，通过解决任务学习 Git 的操作使用。由于感觉自己对于 Git 的使用一直停留在比较初级的阶段，有比较多的知识盲点，所以决定下载下来玩一玩，顺便把<a href="">题解</a>和学习笔记分别记录一下。</p>
<h2>Pro Git</h2>
<p>开始的内容比较简单也比较顺利，在 level 28 第一次遇到了问题——涉及到了rebase。这个功能虽然之前也有使用，但是对于概念一直有所困惑，正巧同时再 Startup News 上看到<a href="http://git-scm.com/book/zh">《Pro Git 2ed》中文版</a>翻译校对完成，就顺手上去看了一下有关章节，在这里简略记录一些内容。</p>
<h2>rebase</h2>
<p>推荐阅读：<a href="http://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA">3.6 Git 分支 - 变基</a></p>
<p>Git 的分支合并有 <code>merge</code> 和 <code>rebase ...</code></p>
                <a class="readmore" href="http://pollow.github.io/brief-note-git-rebase-xiao-jie.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="http://pollow.github.io/hello-world.html" rel="bookmark"
                           title="Permalink to Hello World">Hello World</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-10T23:28:23+08:00">
                Published: 日 10 一月 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://pollow.github.io/author/xing-chang.html">XING Chang</a>
        </address>
<p>In <a href="http://pollow.github.io/category/misc.html">misc</a>.</p>

</footer><!-- /.post-info -->                <h2>Hello World</h2>
<p>三年来第三次开通Blog，Wordpress 也配置过了，自己的博客系统也写过了，自己的静态博客引擎也写过了，然并卵，折腾的时间不少，文章才只写了三四篇。</p>
<p>简简单单最好了，这次试用一下 Pelican + Github.IO，不要在乎形式，希望可以坚持写下去，记录一下自己的学习历程吧。</p>
<p>Hello World, AGAIN.</p>
                <a class="readmore" href="http://pollow.github.io/hello-world.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://pollow.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>